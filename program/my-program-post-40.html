<!DOCTYPE html>
<html lang="zh_cn">
<head>
        <meta charset="utf-8" />
        <title>Python的一些高级特性</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">ytluck—For you </a></h1>
                <nav><ul>
                    <li><a href="http://ytluck.github.io/">Home</a></li>
                    <li><a href="/About me.html">About Me</a></li>
                    <li><a href="/big-data/index.html">Big Data</a></li>
                    <li><a href="/data-mining/index.html">Data Mining</a></li>
                    <li><a href="/items/index.html">Items</a></li>
                    <li><a href="/os/index.html">OS</a></li>
                    <li class="active"><a href="/program/index.html">Program</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/program/my-program-post-40.html" rel="bookmark"
           title="Permalink to Python的一些高级特性">Python的一些高级特性</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2018-09-16T21:00:00+08:00">
                Published: 2018-09-16 21:00:00
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ytwan.html">ytwan</a>
        </address>
<p>In <a href="/program/index.html">Program</a>.</p>
<p>tags: <a href="/tag/python.html">Python</a> </p>
</footer><!-- /.post-info -->      <div class="highlight"><pre><span></span>Python的一些高级特性，有一些在其他语言中出现，有一些没有，明确共同点，找出差异，进而更加熟练掌握各种特性
Python的特性
</pre></div>


<h3>迭代器：</h3>
<div class="highlight"><pre><span></span>迭代器协议：
在Python中文件可以使用for循环进行遍历
    原因：文件对象在Python中实现了迭代器协议，标志 next方法
</pre></div>


<h3>生成器</h3>
<div class="highlight"><pre><span></span>生成器对延迟操作提供了支持
Python提供了几种不同的方式构建生成器
  01、生成器函数 yield
   和常规函数类似，返回值通过yield，而不是return
  02、生成器表达式
  03.enumerate
</pre></div>


<h3>装饰器decorator</h3>
<div class="highlight"><pre><span></span>装饰器  
装饰器-回调函数 等，这些内容以后整理
</pre></div>


<h3>上下文管理器</h3>
<div class="highlight"><pre><span></span>上下文管理器
 with 语句块 + 上下文管理器
 对象实现__enter__ 和 __exit__方法 或者contextlib模块
对资源的处理：Python中可使用finally语句保证无论什么情况下文件都会被关闭--with语句也可以
确保加锁以后锁的释放 try/finally 语句
</pre></div>


<h3>递归</h3>
<div class="highlight"><pre><span></span>--递归就是函数调用自身
重点：
    重点一：递归步骤 --分解问题并重组问题
       如何分解成小的部分-每部分都是用函数来解决，然后重新组合
    重点二：包含递归的结束条件
       递归触底 即递归必须有基础情况，且出现在函数的第一步
说明：
 Python maximum recursion depth exceeded
   python解释器有一个默认的最大递归次数是999
   同时，操作系统也有一个最大迭代次数
</pre></div>


<blockquote>
<div class="highlight"><pre><span></span> # -*- coding:utf8 -*-
  # !/usr/bin/python
  def factorial(n):
      if n == 1:
          return 1
      else:
          return n * factorial(n-1)
  def fibon(n):
      if n == 0 or n == 1:
          return 1
      else:
          return fibon(n-1) + fibon(n-2)

  if __name__ == &#39;__main__&#39;:
      data1 = factorial(23)
      data2 = fibon(9)
      print(data1)
      print(data2)
</pre></div>


</blockquote>
<h3>高阶函数和匿名函数</h3>
<div class="highlight"><pre><span></span>高阶函数  
map filter sorted   
reduce  
匿名函数 lambda 表达
</pre></div>


<h3>Python反转字符串中涉及到的内容</h3>
<div class="highlight"><pre><span></span><span class="mf">1.</span><span class="s s-Atom">字符串的一些特性</span>
  <span class="mf">01.</span><span class="s s-Atom">索引特性：负数索引--从末端建立索引，从</span><span class="o">-</span><span class="mi">1</span><span class="s s-Atom">开始</span>
             <span class="s s-Atom">正数索引--从起始端建立索引，从0开始</span>
  <span class="mf">02.</span><span class="s s-Atom">分片特性：对字符串子序列建立索引</span> <span class="s s-Atom">冒号:指出子序列的范围--起始以及步长</span>
   <span class="p">[],</span><span class="s s-Atom">其中的字母是【）半开区间，包含范围起始值，不包含结束值</span>
   <span class="s s-Atom">单个冒号和两个冒号的规则</span>
   <span class="p">[</span><span class="s s-Atom">::-</span><span class="mi">1</span><span class="p">]</span> <span class="s s-Atom">步长为</span><span class="o">-</span><span class="mi">1</span><span class="s s-Atom">表示向后进行</span>
  <span class="mf">03.</span><span class="s s-Atom">字符串操作</span> <span class="s s-Atom">连接</span> <span class="o">+</span>  <span class="s s-Atom">检查成员的</span> <span class="s s-Atom">in</span>
<span class="mf">2.</span><span class="s s-Atom">列表的一些特性：列表本身是可变的</span>
    <span class="mf">01.</span><span class="s s-Atom">列表的索引和分片特性</span>
    <span class="mf">02.</span><span class="nf">reverse</span><span class="p">()</span> <span class="s s-Atom">将列表中的元素反向排列</span>
    <span class="s s-Atom">列表和字符串之间的转换</span>
      <span class="s s-Atom">将列表变为字符串--</span> <span class="s s-Atom">s</span> <span class="o">=</span>  <span class="s s-Atom">&#39;&#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nv">L</span><span class="p">)</span>  <span class="s s-Atom">调用字符串str</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s s-Atom">iterable</span><span class="p">)</span>
      <span class="s s-Atom">将字符串变为列表</span>  <span class="nv">L</span><span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span>
    <span class="nf">内置函数reverse，是直接操作变量本身，调用reverse</span><span class="p">()</span><span class="s s-Atom">后，</span>
    <span class="s s-Atom">变量本身的值就是reverse后的值了，而返回值，是空的，不返回任何值</span>
    <span class="s s-Atom">所以不能出现：</span>
      <span class="s s-Atom">reversedList</span> <span class="o">=</span> <span class="s s-Atom">orignalList</span><span class="p">.</span><span class="nf">reverse</span><span class="p">();</span>
    <span class="s s-Atom">而应该是</span>
      <span class="s s-Atom">orignalList</span><span class="p">.</span><span class="nf">reverse</span><span class="p">();</span>
      <span class="s s-Atom">reversedList</span> <span class="o">=</span> <span class="s s-Atom">orignalList</span><span class="p">;</span>
     <span class="s s-Atom">sort等函数也有此类规则，方法</span><span class="p">.</span><span class="nf">sort</span><span class="p">()</span><span class="s s-Atom">和函数sorted</span> <span class="s s-Atom">以及</span>  <span class="s s-Atom">方法</span><span class="p">.</span><span class="nf">reverse</span><span class="p">()</span> <span class="s s-Atom">和函数reserved类似</span>
    <span class="s s-Atom">这一点和R语言有所不同，请注意</span>
<span class="mf">3.</span><span class="s s-Atom">内置函数</span>
  <span class="nf">reversed</span><span class="p">()</span><span class="s s-Atom">返回的是一个迭代器对象</span> 
  <span class="nf">reversed</span><span class="p">()</span><span class="s s-Atom">函数是返回序列seq的反向访问的迭代子。</span>
     <span class="s s-Atom">参数可以是列表，元组，字符串，不改变原对象</span>
<span class="mf">4.</span><span class="s s-Atom">高阶函数和匿名函数</span>
  <span class="nf">map</span><span class="p">()</span><span class="s s-Atom">函数、</span><span class="nf">filter</span><span class="p">()</span><span class="s s-Atom">函数</span> <span class="nf">sorted</span><span class="p">()</span>
  <span class="nf">reduce</span><span class="p">()</span><span class="s s-Atom">传入的参数f必须接受2个参数</span>
    <span class="s s-Atom">第一次调用是把list的前两个元素传递给f</span><span class="p">,</span><span class="s s-Atom">第二次调用时，</span>
    <span class="s s-Atom">就是把前两个list元素的计算结果当成第一个参数，list的第三个元素当成第二个参数，</span>
    <span class="s s-Atom">传入f进行操作，以此类推，并最终返回结果</span>
  <span class="s s-Atom">使用</span> <span class="s s-Atom">lambda</span> <span class="s s-Atom">来创建匿名函数</span>

<span class="c1"># -*- coding:utf8 -*-</span>
<span class="c1"># !/usr/bin/python</span>

<span class="c1"># 反转字符串</span>
<span class="c1"># 使用递归 -使用循环 -使用 reduce和lambda表达式</span>
<span class="c1"># 自身的索引特性-</span>
<span class="c1"># 使用Python内置函数结合字符串函数使用</span>
<span class="c1"># 变成其他数据类型使用其函数</span>

<span class="s s-Atom">def</span> <span class="nf">reversert</span><span class="p">(</span><span class="s s-Atom">astr</span><span class="p">)</span><span class="s s-Atom">:</span>
<span class="nf">if</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="s s-Atom">astr</span><span class="p">))</span> <span class="o">==</span> <span class="mi">1</span><span class="s s-Atom">:</span>
<span class="s s-Atom">return</span> <span class="s s-Atom">astr</span>
<span class="nn">else</span><span class="p">:</span>
<span class="s s-Atom">newstr</span> <span class="o">=</span> <span class="nf">reversert</span><span class="p">(</span><span class="s s-Atom">astr</span><span class="p">[</span><span class="mi">1</span><span class="s s-Atom">:</span><span class="p">])</span> <span class="o">+</span> <span class="s s-Atom">astr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="s s-Atom">return</span> <span class="s s-Atom">newstr</span>


<span class="s s-Atom">def</span> <span class="nf">func</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span><span class="s s-Atom">:</span>
<span class="s s-Atom">result</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="s s-Atom">max_index</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
<span class="s s-Atom">for</span> <span class="s s-Atom">index</span><span class="p">,</span> <span class="s s-Atom">value</span> <span class="s s-Atom">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="s s-Atom">s</span><span class="p">)</span><span class="s s-Atom">:</span>
<span class="s s-Atom">result</span> <span class="s s-Atom">+=</span> <span class="s s-Atom">s</span><span class="p">[</span><span class="s s-Atom">max_index</span><span class="o">-</span><span class="s s-Atom">index</span><span class="p">]</span>
<span class="s s-Atom">return</span> <span class="s s-Atom">result</span>


<span class="s s-Atom">if</span> <span class="k">__</span><span class="s s-Atom">name__</span> <span class="o">==</span> <span class="s s-Atom">&#39;__main__&#39;:</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">reversert</span><span class="p">(</span><span class="s s-Atom">&#39;abc&#39;</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">func</span><span class="p">(</span><span class="s s-Atom">&#39;efg&#39;</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">reduce</span><span class="p">(</span><span class="s s-Atom">lambda</span> <span class="s s-Atom">x</span><span class="p">,</span> <span class="nn">y</span><span class="p">:</span> <span class="s s-Atom">y</span><span class="o">+</span><span class="s s-Atom">x</span><span class="p">,</span> <span class="s s-Atom">&#39;efg&#39;</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;efg&#39;</span><span class="p">[</span><span class="s s-Atom">::-</span><span class="mi">1</span><span class="p">])</span>
<span class="nf">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="s s-Atom">&#39;efg&#39;</span><span class="p">)[</span><span class="s s-Atom">::-</span><span class="mi">1</span><span class="p">]))</span>
<span class="nf">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nf">reversed</span><span class="p">(</span><span class="s s-Atom">&#39;efg&#39;</span><span class="p">)))</span>
<span class="nf">print</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nf">reversed</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="s s-Atom">&#39;efg&#39;</span><span class="p">))))</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">len</span><span class="p">(</span><span class="s2">&quot;efg&quot;</span><span class="p">))</span>

<span class="c1"># 列表变为字符串 --注意事项</span>
<span class="nf">print</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="s s-Atom">&#39;abc&#39;</span><span class="p">))</span>
<span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;&#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="nf">list</span><span class="p">(</span><span class="s s-Atom">&#39;abc&#39;</span><span class="p">)))</span>
<span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;&#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">([</span><span class="s s-Atom">&#39;a&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;b&#39;</span><span class="p">,</span> <span class="s s-Atom">&#39;c&#39;</span><span class="p">]))</span>
<span class="nv">Li</span> <span class="o">=</span> <span class="nf">list</span><span class="p">(</span><span class="s s-Atom">&#39;efg&#39;</span><span class="p">)</span>
<span class="nv">Li</span><span class="p">.</span><span class="nf">reverse</span><span class="p">()</span>
<span class="s s-Atom">dealLi</span> <span class="o">=</span> <span class="nv">Li</span>
<span class="nf">print</span><span class="p">(</span><span class="s s-Atom">&#39;&#39;</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="s s-Atom">dealLi</span><span class="p">))</span>
</pre></div>


<h3>参考</h3>
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="https://github.com/ytluck">yt</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://pelican-zh.readthedocs.org/en/latest/zh-cn/settings/">ye</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-76643035-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>