<!DOCTYPE html>
<html lang="zh_cn">
<head>
        <meta charset="utf-8" />
        <title>R语言排序与统计频数</title>
        <link rel="stylesheet" href="/theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="/">ytluck—For you </a></h1>
                <nav><ul>
                    <li><a href="http://ytluck.github.io/">Home</a></li>
                    <li><a href="/About me.html">About Me</a></li>
                    <li class="active"><a href="/data-mining/index.html">Data Mining</a></li>
                    <li><a href="/items/index.html">Items</a></li>
                    <li><a href="/operating-systems/index.html">Operating Systems</a></li>
                    <li><a href="/program/index.html">Program</a></li>
                    <li><a href="/tools/index.html">Tools</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="/data-mining/my-data-post-02.html" rel="bookmark"
           title="Permalink to R语言排序与统计频数">R语言排序与统计频数</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2016-04-23T16:08:00+08:00">
                Published: 2016-04-23 16:08:00
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="/author/ytwan.html">ytwan</a>
        </address>
<p>In <a href="/data-mining/index.html">Data Mining</a>.</p>
<p>tags: <a href="/tag/r.html">R</a> </p>
</footer><!-- /.post-info -->      <table><tr><td bgcolor=#DED5B6>
##R 语言排序
###数据示意
    FL <- c(1,5,4,4)
    FF <- c(3,7,4,2)
    FA <- c("A","C","D","B")
    ora  <- data.frame(FL,FF,FA)
###排序
    ##只排一行
    sort(ora$FL)
    sort(ora$FL,decreasing=TRUE)
###获得排序的位置，多列排序,升序以及降序
     order(ora$FL)
     ora[order(ora$FL),]
     ora[order(-ora$FL),]
     ora[order(ora$FL,ora$FA),]
     ora[order(ora$FL,ora$FA,decreasing=T),]
     ora[order(-ora$FL,ora$FA),]
###还原排序
    ora2 <-ora[order(ora$FL),]  
    ora3 <- ora2[order(order(ora$FL)),]
###利用行名还原排序
    ora2 <-ora[order(ora$FL),]  
    N <- nrow(ora)
    DealData <- data.frame(FL=numeric(N),FF=numeric(N),FA=numeric(N))       
    DealData[as.integer(row.names(ora2)),] <- ora2

###按照自定义列排序
    ora
    ora4 <- cbind(ora2,ora2$FA)
    rownames(ora4) <- NULL
    merge(ora,ora4,all=TRUE,sort=FALSE)
    merge(ora4,ora,all=TRUE,sort=FALSE)
##R语言统计频率
###数据
    score    <- c(1,2,1,3,3,4)
    grade <- c("A","A","A","B","B","C")
    LA <- data.frame(score ,grade ,stringsAsFactors=F)
###统计一列的数据
    sp <- table(LA$score)
    sp <- as.data.frame(sp,stringsAsFactors=F)
    str(sp)
###统计两列的或者多列的组合
  * 方法一  
    `install.packages("plyr")，没有这个包的话要下载 `  
    `library(plyr)`  
    `Freq_table  <- count(LA,vars=c("score","grade")) `   
    `colnames(Freq_table) <- c("scor","gra","Frequency")`   
  * 方法二  
    `library(dplyr)  `      
    `rename(count(LA,score ,grade), Freq = n)`  
  * 方法三      
    `library(reshape2)`  
    `df_counts <- melt(table(LA))`   
    `names(df_counts) <- names(LA)`   
    `colnames(df_counts)[ncol(df_counts)] <- "count" `  
 * 方法四  
    `library(data.table) ` 
    /##数据框转为列连表  
    `setDT(LA)`  
      ## 转化   
      `df[,.N,by=c('score','grade')]`
    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/">Pelican</a></li>
                            <li><a href="http://python.org/">Python.org</a></li>
                            <li><a href="https://github.com/ytluck">yt</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="http://pelican-zh.readthedocs.org/en/latest/zh-cn/settings/">ye</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-76643035-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>